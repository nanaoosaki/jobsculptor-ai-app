# KNOWN ISSUES

Current issues with the resume application as of latest optimizations.

## RESOLVED ✅

### 1. **Missing Contact Information Section** ✅ **RESOLVED**
**Status**: Fixed in contact parsing logic  
**Description**: The DOCX output was missing the contact information section that should appear directly below the name header. This included phone, email, location, and other contact details.
**Solution**: Updated contact parsing logic in `utils/docx_builder.py` lines ~515-540
**Result**: Contact information now appears correctly in DOCX output, including name, phone, email, and other contact details properly parsed from the Unicode symbol format. The section is formatted consistently with HTML/PDF outputs.

### 2. **Font Size Inconsistencies Across Formats** ✅ **RESOLVED**
**Status**: Fixed via Universal Rendering System  
**Description**: Font sizes for various resume elements were not consistent between HTML/PDF and DOCX formats.
**Solution**: Implemented Universal Rendering System with centralized design token control
**Result**: All formats now reference the same font size tokens from design_tokens.json ensuring identical typography hierarchy.

### 3. **Missing Background Fill in Role Boxes** ✅ **RESOLVED**
**Status**: Fixed via design tokens update  
**Description**: Role boxes in both HTML/PDF and DOCX formats were displaying with borders but no background color/fill.
**Solution**: Updated design tokens with `backgroundColor: "#F8F9FA"` and implemented DOCX cell shading
**Result**: Role boxes now have subtle light gray background across all formats providing proper visual hierarchy.

### 4. **Font Style Inconsistencies Across Formats** ✅ **RESOLVED**
**Status**: Fixed via Universal Rendering System  
**Description**: Font styling (weight, family, size) differed between HTML/PDF and DOCX formats.
**Solution**: Universal Rendering System with design tokens controls all typography settings through centralized configuration
**Result**: Consistent font families, weights, and sizing across all formats with proper typography hierarchy.

### 5. **Missing Section Header Borders** ✅ **RESOLVED**
**Status**: Fixed via design tokens implementation  
**Description**: Section headers (PROFESSIONAL SUMMARY, EXPERIENCE, EDUCATION, etc.) were missing blue borders in HTML/PDF formats.
**Solution**: Added complete `sectionBox` configuration in design_tokens.json and regenerated CSS variables
**Result**: Section headers display with blue borders consistently across HTML/PDF and DOCX formats.

### 6. **Excessive Spacing in Experience Section** ✅ **RESOLVED** 
**Status**: Fixed in resume spacing optimization  
**Description**: Two main spacing issues affecting visual density:
- **Issue A**: Excessive spacing between company/location line and role/date line
- **Issue B**: Excessive spacing between role/date line and role description, plus between bullet points
**Impact**: HTML/PDF and DOCX formats, causing inefficient space usage and poor visual flow
**Solution**: Implemented zero spacing design tokens:
- `position-bar-margin-top`: 0rem (was 0.4rem)
- `position-line-margin-bottom`: 0rem (was 0.15rem) 
- `job-content-margin-top`: 0rem (was 0.5rem)
- `bullet-spacing-after`: 0rem (was 0.15rem)
- `docx-paragraph-spacing-pt`: 0 (was 6)
- `docx-bullet-spacing-pt`: 0 (was 6)
**Result**: Ultra-compact layout with maximum space efficiency and improved visual clarity

## ACTIVE ISSUES

### 7. **Download Button Format Options Issue**
**Status**: Unresolved  
**Priority**: Medium
**Description**: The current interface allows both DOCX and PDF download options simultaneously, which may need to be reconsidered based on user experience requirements.
**Current State**: Both "Download PDF" and "Download DOCX" buttons are available
**Impact**: Potential user confusion about which format to choose, interface complexity may be unnecessary

### 8. **Download Button Styling Issues**
**Status**: Unresolved  
**Priority**: Medium
**Description**: The download button styling is not user-friendly and lacks consistent visual feedback states.
**Current Issues**: Button color choice is "not user-friendly to the eyes", lacks proper hover/focus states

### 9. **Projects Section Missing/Incomplete**
**Status**: Unresolved  
**Priority**: Medium
**Description**: The Projects section handling may be incomplete or missing entirely in certain resume formats.
**Impact**: Important resume section may not be displaying properly across all output formats

### 10. **Persistent Left Indentation in PDF Output**
**Status**: Unresolved
**Priority**: High (Can be Medium if current PDF appearance is temporarily accepted)
**Description**: PDF documents generated by WeasyPrint exhibit a consistent, unexplained left indentation of approximately 0.67cm for all content. This occurs despite multiple attempts to zero out page, html, and body margins using `!important` inline and external CSS rules.
**Details & Attempts Made**:
- An inline `@page { margin: 0 !important; size: A4; }` rule is applied directly in the HTML `<head>` supplied to WeasyPrint (`pdf_exporter.py`).
- Aggressive inline CSS resets (`margin: 0 !important; padding: 0 !important; border: none !important; width: 100% !important; box-sizing: border-box !important; background: none !important;`) are also applied to `<html>` and `<body>` elements directly in the HTML `<head>`.
- External CSS (`print.css`) further reinforces this with `@media print { html, body { margin: 0 !important; padding: 0 !important; } }`.
- The main content container (`.tailored-resume-content`) is styled with `padding: 1cm; margin: 0;` for print, intending content to start 1cm from the effective page edge.
- Key content elements like `.section-box` and `.position-bar` (containing `.role-box`) have `margin-left: 0 !important;` in `print.css`.
- The `@page` rule within `print.css` was also tested (set to `margin: 0cm !important;`) and later commented out to isolate the inline rule; neither resolved the issue.
**Current State**: The ~0.67cm left offset persists in the PDF. The HTML preview aligns correctly. The PDF does not match this visual, and content effectively starts ~1.67cm from the physical paper edge instead of the intended 1cm.
**Impact**: Visual misalignment between HTML preview and PDF output. PDF does not use full page width as intended by the "0cm page margin + 1cm content padding" design.
**Hypotheses for Root Cause**:
    1.  A WeasyPrint User Agent default style for paged media (e.g., on `<html>` or the root box) is being applied *before* any author CSS (inline or external) can effectively counteract it for the initial layout calculation, despite `!important` flags.
    2.  A deeply nested or SASS-imported CSS rule from an unexpected source (e.g., `print_ui.css`, `print_legacy.css` if they were previously used and still active in the SASS build process for `print.css`) is setting a page margin that overrides all attempts.
    3.  A WeasyPrint version-specific behavior (v65.1) related to the cascade or application of initial computed values for paged media, where `!important` inline styles are not overriding certain foundational UA styles as expected.
**Next Steps (if this issue is revisited)**:
    1.  **SASS Build Audit**: Thoroughly audit the SASS build process for `print.css` to ensure no legacy CSS files containing conflicting `@page` margins (e.g., `margin: 1cm;`) are being imported.
    2.  **Minimal Reproducible Example**: Create an absolute minimal HTML document (e.g., `<html><head><style>@page{margin:0 !important;} html,body{margin:0 !important;padding:0 !important;border:1px solid red;}</style></head><body><div>Test</div></body></html>`) and render it with WeasyPrint CLI to observe its default behavior and the effective output of `boxes.log`.
    3.  **CSS Elimination**: Systematically comment out major sections of `print.css` and `preview.css` (if loaded for print) to see if any block of rules, even seemingly unrelated ones, causes the offset when present.

## SUMMARY

**Progress**: 6 out of 10 issues resolved (60% complete)

**Recently Resolved**: 
- ✅ Issue #6: Excessive spacing optimization - achieved ultra-compact, space-efficient layout
- ✅ All cross-format consistency issues resolved via Universal Rendering System

**Next Focus**: Medium-priority UX improvements (download buttons, projects section, styling) 